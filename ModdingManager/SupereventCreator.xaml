<Window x:Class="ModdingManager.SupereventCreator"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ModdingManager"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
        xmlns:cntrls ="clr-namespace:ModdingManager.classes.controls"
        mc:Ignorable="d"
        Title="Создатель суперивентов" Height="650" Width="900">
    <Grid>
        <!-- Разделение на две колонки -->
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*" />
            <!-- Левая часть: Canvas -->
            <ColumnDefinition Width="1.2*" />
            <!-- Правая часть: Панель управления -->
        </Grid.ColumnDefinitions>

        <!-- Левая колонка: прокручиваемый Canvas -->
        <ScrollViewer Grid.Column="0" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <Canvas x:Name="MainCanvas" Background="LightGray" ClipToBounds="True">

                <Image x:Name="SupereventFrame"
               Source="pack://application:,,,/data/gfx/interface/superevent_bg_1.png"
               Canvas.Left="0" Canvas.Top="0"
               Stretch="None" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                <!-- <<< важно -->

                <!-- Остальные элементы -->
                <RichTextBox Name="HeaderTextLocalizedField" Width="298" Height="71"
                Canvas.Left="293" Canvas.Top="35" Background="Transparent" IsReadOnly="True" 
                MouseDoubleClick="RichTextBox_MouseDoubleClick" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                <!--<TextBlock Name="HeaderTextLocalizedField" Width="298" Height="45" 
                   Canvas.Left="176" Canvas.Top="82" Text="Заголовок"/>-->
                <RichTextBox x:Name="DescTextLocalizedField" Width="521" Height="93" 
                   Canvas.Left="70" Canvas.Top="403" Background="Transparent" IsReadOnly="True"
                MouseDoubleClick="RichTextBox_MouseDoubleClick"/>
                <Image x:Name="SupereventImage" Width="89" Height="89"
                Canvas.Left="170" Canvas.Top="150"
                Stretch="Fill"
                Source="pack://application:,,,/data/gfx/interface/null_item_image.png"
                Drop="ImageDrop"      
                AllowDrop="True"/>

            </Canvas>
        </ScrollViewer>


        <!-- Правая колонка: элементы управления -->
        <StackPanel Grid.Column="1" Margin="10,10,10,0" VerticalAlignment="Top" Height="620">
            <Label Content="Внутри игровое айди суперивента"/>
            <TextBox x:Name="SuperEventIdBox" Width="150" Margin="-70,0,0,0"/>
            <Label Content="Аудио файл"/>
            <Button Name ="AudioPickerButton" Content="Выбрать" Width="100" Background="#FFF94343" Click="AudioPickerButton_Click" Margin="0,0,0,5"/>
            <Button x:Name ="AudioPlayButton" Content="▶️" Width="39" Background="#FF1014B2" Click="AudioPlayButton_Click" Foreground="White" Margin="0,0,0,0"/>
            <Label Content="Рамка суперивента"/>

            <Button Name ="FramePickerButton" Content="Выбрать" Width="100" Background="#FF41B210" Click="FramePickerButton_Click" />
            <Button x:Name ="AddOptionButton" Content="Добавить опцию" Width="123" Margin="0,5,0,0" Background="#FF5F779D" Click="AddOptionButton_Click"/>
            <Label Content="Параметры шрифта заголовка"/>
            <TextBox x:Name="HeaderSizeBox" Width="35" Margin="-190,0,0,0" TextChanged="FontSizeBox_TextChanged" Loaded="FontSizeBox_Loaded"/>
            <xctk:ColorPicker x:Name="HeaderFontColorPicker" Width="186" SelectedColorChanged="FontColorPicker_SelectedColorChanged" Margin="-40,10,0,0" Loaded="FontColorPicker_Loaded"/>
            <cntrls:SearchableComboBoxControl x:Name="HeaderFontPicker"  Width="186" Loaded="SearchableCombo_Loaded" SelectionChanged="SearchableCombo_SelectionChanged" Margin="-40,10,0,0"/>
            <Label Content="Параметры шрифта описания"/>
            <TextBox x:Name="DescSizeBox" Width="35" Margin="-190,0,0,0" TextChanged="FontSizeBox_TextChanged" Loaded="FontSizeBox_Loaded"/>
            <xctk:ColorPicker x:Name="DescFontColorPicker" Width="186" SelectedColorChanged="FontColorPicker_SelectedColorChanged" Margin="-40,10,0,0" Loaded="FontColorPicker_Loaded"/>
            <cntrls:SearchableComboBoxControl x:Name="DescFontPicker" Width="186"  Loaded="SearchableCombo_Loaded" SelectionChanged="SearchableCombo_SelectionChanged" Margin="-40,10,0,0"/>
            <Label Content="Параметры шрифта кнопок опции"/>
            <TextBox x:Name="OptionSizeBox" Width="35" TextChanged="OptionSizeBox_TextChanged" Margin="-190,0,0,0" Loaded="FontSizeBox_Loaded"/>
            <xctk:ColorPicker x:Name="OptionTextColorPicker" Width="186"  Margin="-40,10,0,0" SelectedColorChanged="FontColorPicker_SelectedColorChanged" Loaded="FontColorPicker_Loaded"/>
            <cntrls:SearchableComboBoxControl x:Name="OptionFontPicker" Width="186" Loaded="SearchableCombo_Loaded" SelectionChanged="SearchableCombo_SelectionChanged" Margin="-40,10,0,0"/>
            <Button Name ="UpdateConfigButton" Content="Обновить" Width="100" Background="#FF49DDDD" Click="UpdateConfigButton_Click" Margin="0,10,0,0"/>
            <Button x:Name ="DoneConfigButton" Content="Готово" Width="100" Background="#FFACBE60" Click="DoneConfigButton_Click"/>
        </StackPanel>

    </Grid>
</Window>
