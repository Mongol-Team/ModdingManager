<UserControl x:Class="Controls.FilesStripeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="32" d:DesignWidth="600">

    <!-- 
        Корневой Grid адаптирует ориентацию: 
        горизонталь — строки 1+*, вертикаль — столбцы 1+*  
        Управление через Orientation DependencyProperty в code-behind  
    -->
    <Grid x:Name="RootGrid">
        <!-- Горизонтальный лэйаут (по умолчанию) -->
        <Grid x:Name="HorizontalLayout" Visibility="Visible">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <!-- кнопка < -->
                <ColumnDefinition Width="*"/>
                <!-- лента файлов -->
                <ColumnDefinition Width="Auto"/>
                <!-- кнопка > -->
            </Grid.ColumnDefinitions>

            <Button x:Name="ScrollLeftButton"
                    Grid.Column="0"
                    Style="{StaticResource FileStripeNavButton}"
                    Content="‹"
                    FontSize="14"
                    Click="ScrollLeftButton_Click"
                    Visibility="Collapsed"/>

            <ScrollViewer x:Name="HScrollViewer"
                          Grid.Column="1"
                          HorizontalScrollBarVisibility="Hidden"
                          VerticalScrollBarVisibility="Disabled"
                          Background="{StaticResource TabBarBackground}">
                <StackPanel x:Name="HItemsPanel"
                            Orientation="Horizontal"
                            SizeChanged="ItemsPanel_SizeChanged"/>
            </ScrollViewer>

            <Button x:Name="ScrollRightButton"
                    Grid.Column="2"
                    Style="{StaticResource FileStripeNavButton}"
                    Content="›"
                    FontSize="14"
                    Click="ScrollRightButton_Click"
                    Visibility="Collapsed"/>
        </Grid>

        <!-- Вертикальный лэйаут -->
        <Grid x:Name="VerticalLayout" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- кнопка ^ -->
                <RowDefinition Height="*"/>
                <!-- лента файлов -->
                <RowDefinition Height="Auto"/>
                <!-- кнопка v -->
            </Grid.RowDefinitions>

            <Button x:Name="ScrollUpButton"
                    Grid.Row="0"
                    Style="{StaticResource FileStripeNavButton}"
                    Content="˄"
                    FontSize="14"
                    Height="20"
                    Click="ScrollUpButton_Click"
                    Visibility="Collapsed"/>

            <ScrollViewer x:Name="VScrollViewer"
                          Grid.Row="1"
                          HorizontalScrollBarVisibility="Disabled"
                          VerticalScrollBarVisibility="Hidden"
                          Background="{StaticResource TabBarBackground}">
                <StackPanel x:Name="VItemsPanel"
                            Orientation="Vertical"
                            SizeChanged="ItemsPanel_SizeChanged"/>
            </ScrollViewer>

            <Button x:Name="ScrollDownButton"
                    Grid.Row="2"
                    Style="{StaticResource FileStripeNavButton}"
                    Content="˅"
                    FontSize="14"
                    Height="20"
                    Click="ScrollDownButton_Click"
                    Visibility="Collapsed"/>
        </Grid>
    </Grid>
</UserControl>