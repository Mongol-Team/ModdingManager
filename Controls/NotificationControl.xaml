<UserControl x:Class="Controls.NotificationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MinWidth="300"
             MaxWidth="400">
    <UserControl.Resources>
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetName="NotificationBorder"
                             Storyboard.TargetProperty="Opacity"
                             From="0"
                             To="1"
                             Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
        <Storyboard x:Key="FadeOutAnimation">
            <DoubleAnimation Storyboard.TargetName="NotificationBorder"
                             Storyboard.TargetProperty="Opacity"
                             From="1"
                             To="0"
                             Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </UserControl.Resources>
    <Border x:Name="NotificationBorder"
            Background="{StaticResource BackgroundCard}"
            BorderThickness="1"
            BorderBrush="{StaticResource BorderColor}"
            CornerRadius="4"
            Padding="16"
            Opacity="0">
        
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Path x:Name="IconPath"
                  Grid.Column="0"
                  Width="20"
                  Height="20"
                  Margin="0,0,12,0"
                  VerticalAlignment="Center"
                  Stretch="Uniform"
                  Fill="{Binding IconColor, RelativeSource={RelativeSource AncestorType=UserControl}}"/>

            <TextBlock x:Name="MessageTextBlock"
                       Grid.Column="1"
                       TextWrapping="Wrap"
                       Foreground="{StaticResource TextPrimary}"
                       FontSize="{StaticResource FontSizeBody}"
                       VerticalAlignment="Center"
                       Margin="0,0,12,0"/>

            <Button x:Name="CloseButton"
                    Grid.Column="2"
                    Width="20"
                    Height="20"
                    Padding="0"
                    Background="Transparent"
                    BorderThickness="0"
                    Cursor="Hand"
                    Click="CloseButton_Click">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="CloseBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="2">
                            <Path Data="M4 4 L12 12 M12 4 L4 12"
                                  Stroke="{StaticResource TextTertiary}"
                                  StrokeThickness="1.5"
                                  Stretch="Uniform"
                                  Margin="4"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="CloseBorder" Property="Background" Value="{StaticResource BackgroundHover}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </Grid>
    </Border>
</UserControl>

